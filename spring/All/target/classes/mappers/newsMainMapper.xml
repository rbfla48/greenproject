<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="newsMainMapper">
	<!-- 뉴스 메인 페이지 -->
	<select id="newsMain" parameterType="com.javateam.main.vo.news.NewsCriteria" resultType="com.javateam.main.vo.news.NewsVO">
		SELECT 
		news_no
		, news_TITLE
		, news_text
		
		FROM (
			select news_no,
					news_title,
					news_text,
					ROW_NUMBER() OVER(ORDER BY news_no DESC) as RNUM
					from board_news	
		) board_news
		
		where RNUM between #{rowStart} and #{rowEnd}
		ORDER BY news_no DESC
	</select>
	
	<!-- 뉴스 갯수 파악 -->
	<select id="listCount" resultType="int">
	<![CDATA[
		SELECT COUNT(news_no)
		  FROM board_news
		 WHERE news_no > 0
	]]>
	</select>
	
	<!--  뉴스 세부 페이지 -->
	<select id="newsDetail" parameterType="int" resultType="com.javateam.main.vo.news.NewsVO">
		SELECT	news_no
			  , news_title
			  , news_text
			  , REGDATE
		 FROM board_news
		 WHERE news_no = #{news_no}
	</select>


</mapper>