<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="joinMapper">
	<!-- 회원 가입 -->
	<insert id="joinForm"
		parameterType="com.greencar.vo.join.JoinVO">
		INSERT INTO user_info (
		user_no
		, user_email
		,
		user_password
		, user_nick
		, user_birth
		, user_phone
		, user_address
		,
		user_address_detail)
		VALUES(
		user_info_SEQ.NEXTVAL
		, #{userEmail}
		,
		#{userPassword}
		, #{userNick}
		,
		#{userBirthYY}||#{userBirthMM}||#{userBirthDD}
		, #{userPhone}
		,
		#{userAddress}
		, #{userAddressDetail})
	</insert>
	<!-- 이메일 중복 점검 -->
	<select id="emailCheck" resultType="int" parameterType="String">
		SELECT
		COUNT(*) FROM user_info
		WHERE USER_email = #{userEmail}
	</select>
	<!-- 닉네임 중복 점검 -->
	<select id="nickCheck" resultType="int" parameterType="String">
		SELECT
		COUNT(*) FROM user_info
		WHERE USER_nick = #{userNick}
	</select>

</mapper>